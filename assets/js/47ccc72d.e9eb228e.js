"use strict";(globalThis.webpackChunkvinay_portfolio=globalThis.webpackChunkvinay_portfolio||[]).push([[4550],{236(e,s,t){t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"mlops/data-preparation/data-ingestion-etl","title":"Data Ingestion and ETL","description":"Understanding ETL pipelines - how to extract, transform, and load data from diverse sources for ML systems","source":"@site/docs/mlops/data-preparation/2-data-ingestion-etl.md","sourceDirName":"mlops/data-preparation","slug":"/mlops/data-preparation/data-ingestion-etl","permalink":"/docs/mlops/data-preparation/data-ingestion-etl","draft":false,"unlisted":false,"editUrl":"https://github.com/vinaykagithapu/vinaykagithapu.github.io/tree/main/docs/mlops/data-preparation/2-data-ingestion-etl.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Data Ingestion and ETL","description":"Understanding ETL pipelines - how to extract, transform, and load data from diverse sources for ML systems"},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started","permalink":"/docs/mlops/data-preparation/getting-started"},"next":{"title":"Data Lakes","permalink":"/docs/mlops/data-preparation/data-lakes"}}');var r=t(4848),a=t(8453);const i={sidebar_position:2,title:"Data Ingestion and ETL",description:"Understanding ETL pipelines - how to extract, transform, and load data from diverse sources for ML systems"},o="Data Ingestion and ETL",l={},d=[{value:"XYZShopSmart: The Integration Challenge",id:"xyzshopsmart-the-integration-challenge",level:2},{value:"Understanding ETL",id:"understanding-etl",level:2},{value:"Phase 1: Extract",id:"phase-1-extract",level:2},{value:"Extraction Patterns",id:"extraction-patterns",level:3},{value:"XYZShopSmart&#39;s Extraction Strategy",id:"xyzshopsmarts-extraction-strategy",level:3},{value:"Phase 2: Transform",id:"phase-2-transform",level:2},{value:"Common Transformations for ML",id:"common-transformations-for-ml",level:3},{value:"XYZShopSmart&#39;s Transformation Pipeline",id:"xyzshopsmarts-transformation-pipeline",level:3},{value:"Phase 3: Load",id:"phase-3-load",level:2},{value:"Loading Strategies",id:"loading-strategies",level:3},{value:"XYZShopSmart&#39;s Complete ETL Pipeline",id:"xyzshopsmarts-complete-etl-pipeline",level:2},{value:"Common Mistakes",id:"common-mistakes",level:2},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"What&#39;s Next?",id:"whats-next",level:2}];function c(e){const s={admonition:"admonition",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"data-ingestion-and-etl",children:"Data Ingestion and ETL"})}),"\n",(0,r.jsxs)(s.p,{children:["In the previous section, we explored why data collection matters and where organizational data lives. Now we focus on the mechanics \u2014 ",(0,r.jsx)(s.strong,{children:"how to actually get that data"})," from various sources and prepare it for ML consumption. This is where ETL (Extract, Transform, Load) becomes essential."]}),"\n",(0,r.jsx)(s.admonition,{title:"Key Insight",type:"tip",children:(0,r.jsx)(s.p,{children:"ETL is the backbone of ML data pipelines. Without reliable data ingestion, even the best models will fail due to missing, stale, or inconsistent data."})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"xyzshopsmart-the-integration-challenge",children:"XYZShopSmart: The Integration Challenge"}),"\n",(0,r.jsx)(s.p,{children:"XYZShopSmart's recommendation system needs data from six different sources \u2014 CRM, web analytics, order database, product catalog, marketing platform, and mobile app. Each system uses different formats, APIs, and update schedules. The data engineering team faces a fundamental question: how do we bring all this data together reliably and continuously?"}),"\n",(0,r.jsx)(s.p,{children:"The answer is ETL \u2014 a systematic process that extracts data from sources, transforms it into a consistent format, and loads it into a centralized storage system."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"understanding-etl",children:"Understanding ETL"}),"\n",(0,r.jsxs)(s.p,{children:["ETL stands for ",(0,r.jsx)(s.strong,{children:"Extract, Transform, Load"})," \u2014 three distinct phases that form the data integration pipeline."]}),"\n",(0,r.jsx)(s.mermaid,{value:"flowchart LR\n    subgraph extract[Extract]\n        DB[(Databases)]\n        API[APIs]\n        FF[Flat Files]\n    end\n    \n    subgraph transform[Transform]\n        CL[Clean]\n        FI[Filter]\n        AG[Aggregate]\n    end\n    \n    subgraph load[Load]\n        DW[Data Warehouse]\n        DL[Data Lake]\n    end\n    \n    DB --\x3e CL\n    API --\x3e CL\n    FF --\x3e CL\n    CL --\x3e FI\n    FI --\x3e AG\n    AG --\x3e DW\n    AG --\x3e DL\n    \n    style DB fill:#4A90A4,stroke:#2C5F6E,color:#fff\n    style API fill:#4A90A4,stroke:#2C5F6E,color:#fff\n    style FF fill:#4A90A4,stroke:#2C5F6E,color:#fff\n    style CL fill:#5BA88F,stroke:#3D7A62,color:#fff\n    style FI fill:#5BA88F,stroke:#3D7A62,color:#fff\n    style AG fill:#5BA88F,stroke:#3D7A62,color:#fff\n    style DW fill:#7B68A6,stroke:#4E4272,color:#fff\n    style DL fill:#7B68A6,stroke:#4E4272,color:#fff"}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"phase-1-extract",children:"Phase 1: Extract"}),"\n",(0,r.jsx)(s.p,{children:"The Extract phase gathers raw data from source systems. Data can come from three primary source types:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Databases"})," store structured data in tables with defined schemas. SQL queries pull customer records, transaction history, and product information."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"APIs"})," provide programmatic access to external systems and services. REST endpoints return JSON data from CRM, marketing platforms, and analytics tools."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Flat Files"})," contain data in CSV, JSON, or XML formats, often exported from legacy systems or third-party services."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"extraction-patterns",children:"Extraction Patterns"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Full extraction"})," pulls all data from a source \u2014 simple but inefficient for large datasets."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Incremental extraction"})," pulls only new or changed records since the last run \u2014 efficient but requires tracking state."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Change Data Capture (CDC)"})," monitors database logs for real-time changes \u2014 ideal for streaming use cases."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"xyzshopsmarts-extraction-strategy",children:"XYZShopSmart's Extraction Strategy"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Source"}),(0,r.jsx)(s.th,{children:"Extraction Method"}),(0,r.jsx)(s.th,{children:"Frequency"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"CRM (Salesforce)"}),(0,r.jsx)(s.td,{children:"REST API"}),(0,r.jsx)(s.td,{children:"Daily"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Web Analytics"}),(0,r.jsx)(s.td,{children:"Event streaming"}),(0,r.jsx)(s.td,{children:"Real-time"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Order Database"}),(0,r.jsx)(s.td,{children:"CDC"}),(0,r.jsx)(s.td,{children:"Near real-time"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Product Catalog"}),(0,r.jsx)(s.td,{children:"Full extract"}),(0,r.jsx)(s.td,{children:"Weekly"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Marketing Platform"}),(0,r.jsx)(s.td,{children:"API"}),(0,r.jsx)(s.td,{children:"Daily"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Mobile App"}),(0,r.jsx)(s.td,{children:"Event streaming"}),(0,r.jsx)(s.td,{children:"Real-time"})]})]})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"phase-2-transform",children:"Phase 2: Transform"}),"\n",(0,r.jsx)(s.p,{children:"The Transform phase converts raw data into a format suitable for analysis and ML. This involves three key operations:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Cleaning"})," removes errors and inconsistencies from raw data. This includes handling missing values, removing duplicates, correcting data types, and standardizing formats."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Filtering"})," removes irrelevant records that don't contribute to the analysis. This includes excluding test data, filtering by date ranges, and removing outliers."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Aggregating"})," combines records to create meaningful features. This includes computing totals, averages, counts, and other summary statistics."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"common-transformations-for-ml",children:"Common Transformations for ML"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Transformation"}),(0,r.jsx)(s.th,{children:"Purpose"}),(0,r.jsx)(s.th,{children:"Example"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Null handling"}),(0,r.jsx)(s.td,{children:"Complete records"}),(0,r.jsx)(s.td,{children:"Fill missing prices with median"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Deduplication"}),(0,r.jsx)(s.td,{children:"Unique records"}),(0,r.jsx)(s.td,{children:"Remove duplicate user events"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Type casting"}),(0,r.jsx)(s.td,{children:"Consistent formats"}),(0,r.jsx)(s.td,{children:"Convert strings to timestamps"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Normalization"}),(0,r.jsx)(s.td,{children:"Scale features"}),(0,r.jsx)(s.td,{children:"Scale prices to 0-1 range"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Encoding"}),(0,r.jsx)(s.td,{children:"Categorical handling"}),(0,r.jsx)(s.td,{children:"One-hot encode product categories"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"xyzshopsmarts-transformation-pipeline",children:"XYZShopSmart's Transformation Pipeline"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Clean"}),": Remove duplicate events, handle null user IDs, standardize timestamps to UTC"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Filter"}),": Exclude internal test accounts, filter events older than 2 years"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Aggregate"}),": Compute user-level features like purchase frequency, average order value, category preferences"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"phase-3-load",children:"Phase 3: Load"}),"\n",(0,r.jsx)(s.p,{children:"The Load phase moves transformed data into a target storage system. Two primary destinations exist:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Data Warehouses"})," store structured, processed data optimized for analytics queries. They use columnar storage for fast aggregations and support SQL-based analysis."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Data Lakes"})," store raw and processed data in various formats. They accommodate structured, semi-structured, and unstructured data at scale."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"loading-strategies",children:"Loading Strategies"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Batch loading"})," processes data in scheduled intervals \u2014 hourly, daily, or weekly. It's simpler to implement but introduces latency."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Streaming loading"})," processes data continuously as it arrives. It's more complex but enables real-time features."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Micro-batch loading"})," combines both approaches \u2014 processes small batches at frequent intervals, typically every few minutes."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"xyzshopsmarts-complete-etl-pipeline",children:"XYZShopSmart's Complete ETL Pipeline"}),"\n",(0,r.jsx)(s.mermaid,{value:"flowchart TB\n    subgraph sources[Data Sources]\n        CRM[Salesforce CRM]\n        WEB[Web Events]\n        ORD[Order DB]\n    end\n    \n    subgraph orchestration[Orchestration]\n        AF[Apache Airflow]\n    end\n    \n    subgraph processing[Processing]\n        SP[Apache Spark]\n    end\n    \n    subgraph storage[Storage Layer]\n        DL[Data Lake]\n        FS[Feature Store]\n    end\n    \n    CRM --\x3e AF\n    WEB --\x3e AF\n    ORD --\x3e AF\n    AF --\x3e SP\n    SP --\x3e DL\n    DL --\x3e FS\n    \n    style CRM fill:#4A90A4,stroke:#2C5F6E,color:#fff\n    style WEB fill:#4A90A4,stroke:#2C5F6E,color:#fff\n    style ORD fill:#4A90A4,stroke:#2C5F6E,color:#fff\n    style AF fill:#E07B53,stroke:#A65535,color:#fff\n    style SP fill:#5BA88F,stroke:#3D7A62,color:#fff\n    style DL fill:#7B68A6,stroke:#4E4272,color:#fff\n    style FS fill:#7B68A6,stroke:#4E4272,color:#fff"}),"\n",(0,r.jsx)(s.p,{children:"XYZShopSmart's pipeline operates as follows:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Airflow"})," orchestrates extraction from all sources on defined schedules"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Spark jobs"})," perform transformations \u2014 cleaning, filtering, aggregating"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Data Lake"})," stores processed data in Parquet format for efficient querying"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Feature Store"})," materializes ML-ready features for model training and serving"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"common-mistakes",children:"Common Mistakes"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"No data validation"})," \u2014 Skipping quality checks allows corrupt data to pollute downstream systems"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Ignoring schema evolution"})," \u2014 Source schemas change; pipelines must handle new fields gracefully"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Over-extracting data"})," \u2014 Pulling more data than needed wastes resources and slows pipelines"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Tight coupling to sources"})," \u2014 Direct dependencies on source schemas make pipelines fragile"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Missing monitoring"})," \u2014 Without alerts, pipeline failures go unnoticed until models degrade"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"ETL has three distinct phases."})," Extract gathers raw data, Transform cleans and prepares it, Load stores it in target systems."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Extraction sources vary widely."})," Databases, APIs, and flat files each require different extraction approaches."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Transformation prepares data for ML."})," Cleaning, filtering, and aggregating convert raw data into useful features."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Loading destinations serve different purposes."})," Data Warehouses support analytics; Data Lakes accommodate diverse data types at scale."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"whats-next",children:"What's Next?"}),"\n",(0,r.jsxs)(s.p,{children:["We've covered the ETL process that moves data from sources to storage. But where exactly should this processed data live? The next section explores ",(0,r.jsx)(s.strong,{children:"Data Lakes"})," \u2014 the scalable, flexible storage solution that has become the standard for ML data management."]}),"\n",(0,r.jsx)(s.admonition,{title:"Up Next",type:"info",children:(0,r.jsxs)(s.p,{children:["We'll explore ",(0,r.jsx)(s.strong,{children:"Data Lakes"})," \u2014 understanding their features, benefits, and why they've become the preferred storage solution for ML model data."]})})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453(e,s,t){t.d(s,{R:()=>i,x:()=>o});var n=t(6540);const r={},a=n.createContext(r);function i(e){const s=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(a.Provider,{value:s},e.children)}}}]);